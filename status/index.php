<!DOCTYPE html>
<html lang="id">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="data:image/png;base64,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" rel="icon" type="image/png">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script>
	<title>Server Informations Status</title>
	</head>
	<body class="container-fluid">
		<div class='content'>
			<?php
			echo("
			<style rel='stylesheet'>
			/* style for demo */
			.panel,
			.panel-heading{
				border-radius:0!important;
			}
			.panel-heading h3.panel-title{
				font-size:25px!important;
			}
			.content{
				padding:20px;
				margin:auto;
			}
			/* style for status */
			.online{
				background-color:#4caf50!important; 
				padding:5px; 
				color:#ffffff;
				text-shadow: 0 0 2px #2196f3;
				border-color: #e51c23; 
				text-align:center;
				font-weight:bold;
			}
			.offline{
				background-color:#e51c23!important; 
				padding:5px; color:#ffffff; 
				text-shadow: 0 0 2px #2196f3;
				border-color: #4caf50; 
				text-align:center;
				font-weight:bold;
			}
			</style>
			");
			//Page Variables
				$online='<td class="online">
							<span class="glyphicon glyphicon-ok-circle"></span> Online
						</td>';
				$offline='<td class="offline">
							<span class="glyphicon glyphicon-remove-circle"></span> Offline
						</td>'; 
			//Functions
				function servercheck($server,$port){
					//Check that the port value is not empty
					if(empty($port)){
						$port=80;
					}
					//Check that the server value is not empty
					if(empty($server)){
						$server='localhost';
					}
					//Connection
					$fp=@fsockopen($server, $port, $errno, $errstr, 1);
						//Check if connection is present
						if($fp){
							//Return Alive
							return 1;
						} else{
							//Return Dead
							return 0;
						}
					//Close Connection
					fclose($fp);
				}
			//Ports and Services to check
			$services=array(
				'HTTP (Port 80)' => array('localhost' => 80),
				'HTTPS (Port 443)' => array('localhost' => 443),
				'FTP (Port 21)' => array('localhost' => 21),
				'MySQL (Port 3306)' => array('localhost' => 3306),
				'SMTP (Port 25)' => array('localhost' =>  25),
				'POP3 (Port 110)' => array('localhost' =>  110),
				'IMAP (Port 143)' => array('localhost' =>  143),
				'SSH (Port 22)' => array('localhost' =>  22),
				'Internet Connection' => array('24th.biz' => 80)
			);
			//Info Server
			$info_hostname = getenv("COMPUTERNAME");//server hostname
			$info_system = php_uname();//uname -a
			$info_software = getenv("SERVER_SOFTWARE");//server software
			$info_server_ip = gethostbyname($_SERVER["HTTP_HOST"]);//server ip
			$info_client_ip = $_SERVER["REMOTE_ADDR"];//client ip
			if(function_exists('date_default_timezone_set')) date_default_timezone_set('Asia/Jakarta');
			echo ("
			<div class='row'>
				<div class='col-sm-12'>
					<div class='panel panel-primary'>
					<div class='panel-heading'>
					<h3 class='panel-title'><i class='fa fa-server'></i> Server Informations</h3>
					</div>
					<div class='panel-body'>
						<div class='list-group col-sm-6'>
						  <a href='javascript:void()' class='list-group-item'>
							<h5 class='list-group-item-heading'>Waktu Hari Ini.</h5>
							<p class='list-group-item-text'>".date('d-m-Y H:i:s')."</p>
						  </a>
						  <a href='javascript:void()' class='list-group-item active'>
							<h5 class='list-group-item-heading'>Hostname Server</h5>
							<p class='list-group-item-text'>".$info_hostname."</p>
						  </a>
						  <a href='javascript:void()' class='list-group-item'>
							<h5 class='list-group-item-heading'>System Server</h5>
							<p class='list-group-item-text'>".$info_system."</p>
						  </a>
						  <a href='javascript:void()' class='list-group-item active'>
							<h5 class='list-group-item-heading'>Software Server</h5>
							<p class='list-group-item-text'>".$info_software."</p>
						  </a>
						  <a href='javascript:void()' class='list-group-item'>
							<h5 class='list-group-item-heading'>IP Server</h5>
							<p class='list-group-item-text'>".$info_server_ip."</p>
						  </a>
						  <a href='javascript:void()' class='list-group-item active'>
							<h5 class='list-group-item-heading'>My IP Access</h5>
							<p class='list-group-item-text'>".$info_client_ip."</p>
						  </a>
						</div>
						<div class='table-responsive col-sm-6'>
							<table class='table table-striped table-hover'>
							  <thead>
								<tr>
								  <th># Descriptions</th>
								  <th class='text-center'># Status</th>
								 </tr>
							  </thead>
							  <tbody>");
							foreach($services as $name => $server){
							echo ("<tr class='active'><td>".$name."</td>");
								foreach($server as $host => $port){
								if(servercheck($host,$port)){ 
									echo $online; 
									}
								else{ 
									echo $offline; 
									}
								}
							echo ("</tr>");
							}
							echo ("
							</tbody>
							</table>
						</div>
					</div>
					</div>
				</div>	
			</div>
			");  
			?>
		</div>
	</body>
</html>
